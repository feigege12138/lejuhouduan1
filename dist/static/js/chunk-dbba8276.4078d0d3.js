(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dbba8276"],{1214:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"main-c"},[a("div",{staticClass:"title"},[e._v(" 新增文章 ")]),a("div",{staticClass:"form"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"作者",prop:"name",size:"small"}},[a("el-input",{model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1),a("el-form-item",{attrs:{label:"文章",size:"small"}},[a("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),a("div",[e._v(" 是否显示 "),a("el-switch",{attrs:{"active-value":0,"inactive-value":1},on:{change:e.isshows},model:{value:e.ruleForm.isShow,callback:function(t){e.$set(e.ruleForm,"isShow",t)},expression:"ruleForm.isShow"}})],1)],1)],1),a("div",{staticClass:"text"},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"摘要"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.content1,callback:function(t){e.$set(e.ruleForm,"content1",t)},expression:"ruleForm.content1"}})],1)],1)],1),a("div",{staticClass:"up"},[a("el-upload",{ref:"upload",attrs:{action:"/lejuAdmin/material/uploadFileOss","label-width":"80px","on-success":e.handleAvatarSuccess,headers:e.headers}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击封面图片")]),a("div",[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):e._e()]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("div",{staticClass:"cut"},[a("div",{staticClass:"cut-title"},[a("div",[e._v("切换富文本类型")]),[a("el-radio",{attrs:{label:"0"},on:{change:e.aaa},model:{value:e.ruleForm.editorType,callback:function(t){e.$set(e.ruleForm,"editorType",t)},expression:"ruleForm.editorType"}},[e._v("富文本")]),a("el-radio",{attrs:{label:"1"},on:{change:e.aaa},model:{value:e.ruleForm.editorType,callback:function(t){e.$set(e.ruleForm,"editorType",t)},expression:"ruleForm.editorType"}},[e._v("MackDown")])],a("span",[e._v("注意！文本框切换之后内容消失")])],2),a("div",{staticClass:"cut-main"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.ruleForm.editorType,expression:"ruleForm.editorType==0"}],staticClass:"fu"},[a("el-upload",{ref:"tinUpload",attrs:{action:"/lejuAdmin/material/uploadFileOss","label-width":"80px","on-success":e.tinImage,headers:e.headers}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("插入图片")])],1),a("Tinymce",{ref:"tin"})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.ruleForm.editorType,expression:"ruleForm.editorType==1"}],staticClass:"mackdown"})])]),a("div",{staticClass:"btns"},[a("el-button",{staticClass:"btns",attrs:{type:"primary"},on:{click:e.add}},[e._v(e._s(1==e.num?"提交编辑":"提交新增"))])],1)])])},i=[],l=(a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("64fe")),s=a("2f4d"),o=a("8256"),c={data:function(){return{items:"",isClear:!1,detail:"",radio:"1",imageUrl:"",value:"",res:"",ruleForm:{coverImg:"",title:"测试",author:"测试",content1:"",editorType:"0",isShow:"0"},num:"",id:""}},components:{Tinymce:o["a"]},computed:{headers:function(){var e=Object(s["b"])();return{token:e}}},methods:{isshows:function(){},tinImage:function(e,t){e.success?(this.$refs.tin.imageSuccessCBK(e.data.fileUrl),this.$refs.tinUpload.clearFiles(),this.$message.success("上传图片成功")):this.$message.error("上传图片失败")},aaa:function(){},handleAvatarSuccess:function(e,t){e.success?this.$message.success("上传成功"):this.$message.error("上传失败"),this.imageUrl=URL.createObjectURL(t.raw),this.ruleForm.coverImg=e.data.fileUrl},add:function(){var e=this.ruleForm;1==this.num?l["a"].updateArticle(e).then((function(e){})):l["a"].addArticle(e).then((function(e){})),this.$router.push({name:"Table"})}},created:function(){var e=this;this.num=this.$route.query.num;var t=this.$route.query.id;1==this.num&&l["a"].productArticle(t).then((function(t){e.ruleForm=t.data.productArticle}))}},n=c,u=(a("a056"),a("2877")),d=Object(u["a"])(n,r,i,!1,null,"04cb318a",null);t["default"]=d.exports},5250:function(e,t,a){},"64fe":function(e,t,a){"use strict";a("99af");var r=a("9c66");function i(e,t,a){return Object(r["a"])({url:"/lejuAdmin/productArticle/findArticles/".concat(e,"/").concat(t),method:"POST",data:a})}function l(e){return Object(r["a"])({url:"/lejuAdmin/productArticle/del/".concat(e),method:"DELETE"})}function s(e){return Object(r["a"])({url:"/lejuAdmin/productArticle/addArticle",method:"POST",data:e})}function o(e){return Object(r["a"])({url:"/lejuAdmin/productArticle/changeShowStatus",method:"POST",data:e})}function c(e){return Object(r["a"])({url:"/lejuAdmin/productArticle/productArticle/".concat(e," "),method:"GET"})}function n(e){return Object(r["a"])({url:"/lejuAdmin/productArticle/updateArticle ",method:"POST",data:e})}function u(e,t,a){return Object(r["a"])({url:"/lejuAdmin/material/findMaterialByPage/".concat(e,"/").concat(t),method:"GET",data:a})}function d(e){return Object(r["a"])({url:"/lejuAdmin/material/delMaterial/".concat(e),method:"DELETE"})}t["a"]={findArticles:i,delArticlesApi:l,addArticle:s,changeShowStatus:o,productArticle:c,updateArticle:n,findMaterialByPage:u,delMaterial:d}},a056:function(e,t,a){"use strict";a("5250")}}]);