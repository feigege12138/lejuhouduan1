(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f4442e24"],{"0675":function(e,t,r){"use strict";r("e791")},"1b62":function(e,t,r){"use strict";var a=r("2f4d");t["a"]={data:function(){return{token:"",rules:{name:[{required:!0,message:"请输入物流单号",trigger:"blur"}],region:[{required:!0,message:"请选择物流公司",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]},logistics:[{name:"顺丰"},{name:"圆通"},{name:"韵达"},{name:"中通"},{name:"京东"},{name:"邮政"},{name:"申通"},{name:"德邦"}],loading:!1,page:1,num:10,header:"",total:1,currentPage:1,action:"/lejuAdmin/material/uploadFileOssSave",status:[{name:"待付款",id:0},{name:"代发货",id:1},{name:"已发货",id:2},{name:"已完成",id:3},{name:"已关闭",id:4},{name:"无效订单",id:5}],payType:[{name:"未支付",id:0},{name:"支付宝",id:1},{name:"微信",id:2}],orderType:[{name:"正常订单",id:0},{name:"秒杀订单",id:1}]}},created:function(){},computed:{headers:function(){var e=Object(a["b"])();return this.header=e,{token:e}}},methods:{}}},"3a10":function(e,t,r){"use strict";r("99af");var a=r("9c66");function s(e,t,r){return Object(a["a"])({url:"/lejuAdmin/order/findOrdersByPage/".concat(e,"/").concat(t),method:"POST",data:r})}function o(e){return Object(a["a"])({url:"/lejuAdmin/order/orderDetail/".concat(e),method:"GET"})}function n(e){return Object(a["a"])({url:"/lejuAdmin/order/sendDone",method:"POST",data:e})}function i(e){return Object(a["a"])({url:"/lejuAdmin/order/finishOrder/".concat(e),method:"POST"})}function l(e){return Object(a["a"])({url:"/lejuAdmin/order/receiveProductsForce/".concat(e),method:"POST"})}function d(e,t,r){return Object(a["a"])({url:"/lejuAdmin/orderReturn/findReturnApply/".concat(e,"/").concat(t),method:"POST",data:r})}function c(e){return Object(a["a"])({url:"/lejuAdmin/orderReturn/".concat(e),method:"GET"})}function u(e,t){return Object(a["a"])({url:"/lejuAdmin/orderReturn/receiveProduct/".concat(e),method:"POST",data:t})}function p(e,t){return Object(a["a"])({url:"/lejuAdmin/orderReturn/agreeApply/".concat(e),method:"POST",data:t})}function m(e,t){return Object(a["a"])({url:"/lejuAdmin/orderReturn/rejectApply/".concat(e),method:"POST",data:t})}function v(){return Object(a["a"])({url:"/lejuAdmin/companyAddress/addressList",method:"GET"})}function f(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/setReceiveOne",method:"POST",data:e})}function g(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/setSendOne",method:"POST",data:e})}function h(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/".concat(e),method:"DELETE"})}function b(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/save",method:"POST",data:e})}function y(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/update",method:"POST",data:e})}t["a"]={findOrdersByPage:s,orderDetail:o,sendDone:n,finishOrder:i,receiveProductsForce:l,findReturnApply:d,orderReturn:c,receiveProduct:u,agreeApply:p,rejectApply:m,addressList:v,setReceiveOne:f,setSendOne:g,companyAddress:h,save:b,update:y}},"9c66":function(e,t,r){"use strict";r("d3b7");var a=r("bc3a"),s=r.n(a),o=r("5c96"),n=r("2f4d"),i=s.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});i.interceptors.request.use((function(e){var t=Object(n["b"])();return t&&(e.headers["token"]=Object(n["b"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),i.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return console.log("err"+e),Object(o["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=i},e78e:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{padding:"30px","background-color":"#f0f2f5"}},[r("el-card",{staticClass:"box-card",attrs:{shadow:"nerver"}},[r("div",{staticStyle:{width:"1000px",margin:"0 auto"}},[r("el-steps",{attrs:{active:e.active,"finish-status":"success"}},[r("el-step",{attrs:{title:"待付款"}}),r("el-step",{attrs:{title:"代发货"}}),r("el-step",{attrs:{title:"已发货"}}),r("el-step",{attrs:{title:"已完成"}}),r("el-step",{attrs:{title:"已关闭"}})],1)],1),r("el-divider"),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("div",{staticClass:"title"},[e._v("订单信息:")])]),r("el-col",{attrs:{span:1}},[r("div",{staticClass:"t",class:0==e.orderInfo.status?"t0":1==e.orderInfo.status?"t1":2==e.orderInfo.status?"t2":3==e.orderInfo.status?"t3":4==e.orderInfo.status?"t4":"t5"},[e._v(" "+e._s(0==e.orderInfo.status?"待付款":1==e.orderInfo.status?"代发货":2==e.orderInfo.status?"已发货":3==e.orderInfo.status?"已完成":4==e.orderInfo.status?"已关闭":"无效订单")+" ")])]),r("el-col",{attrs:{span:20}}),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top "},[r("div",{staticStyle:{display:"flex"}},[r("div",[e._v(" 订单金额: ")]),r("div",{staticClass:"pric"},[e._v(e._s(e.orderInfo.payAmount))])])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 订单编号:"+e._s(e.orderInfo.orderSn)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 用户账户:"+e._s(e.orderInfo.memberUsername)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 备注:"+e._s(e.orderInfo.payAmount)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 下单时间:"+e._s(e.orderInfo.createTime)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 付款时间:"+e._s(e.orderInfo.paymentTime)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 发货时间:"+e._s(e.orderInfo.deliveryTime)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 收货时间:"+e._s(e.orderInfo.receiveTime)+" ")])])],1),r("el-divider"),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("div",{staticClass:"title"},[e._v("收货人信息:")])]),r("el-col",{attrs:{span:1}},[r("div",{staticClass:"dd"})]),r("el-col",{attrs:{span:20}}),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 收货人:"+e._s(e.orderInfo.receiverName)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 用户姓名:"+e._s(e.orderInfo.memberUsername)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 手机号码:"+e._s(e.orderInfo.receiverPhone)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 邮政编码:"+e._s(e.orderInfo.totalAmount)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 地区:"+e._s(e.orderInfo.receiverProvince)+" "+e._s(e.orderInfo.receiverCity)+" ")])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top"},[e._v(" 详细地址:"+e._s(e.orderInfo.receiverDetailAddress)+" ")])])],1),r("el-divider"),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("div",{staticClass:"title"},[e._v("商品信息:")])]),r("el-col",{attrs:{span:1}},[r("div",{staticClass:"dd"})])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodsInfo,border:""}},[r("el-table-column",{attrs:{prop:"productName",label:"商品名称",width:"120",align:"center"}}),r("el-table-column",{attrs:{prop:"name",label:"商品图片",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.productPic,alt:""}})]}}])}),r("el-table-column",{attrs:{label:"是否退货",align:"center",width:"140"}},[[r("div",{staticStyle:{margin:"0 auto",color:"red"}},[e._v("是")])]],2),r("el-table-column",{attrs:{prop:"productBrand",label:"品牌",align:"center"}}),r("el-table-column",{attrs:{prop:"realAmount",label:"价格",align:"center"}}),r("el-table-column",{attrs:{prop:"productQuantity",label:"商品数量",align:"center"}}),r("el-table-column",{attrs:{prop:"totalPrice",label:"小计",align:"center"}})],1),r("el-divider"),1!=e.active?r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("div",{staticClass:"title"},[e._v("费用信息:")])]),r("el-col",{attrs:{span:1}},[r("div",{staticClass:"dd"})]),r("el-col",{attrs:{span:20}}),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top",staticStyle:{display:"flex"}},[r("div",[e._v(" 运费金额: ")]),r("div",{staticClass:"pric"},[e._v(e._s(e.orderInfo.deleteStatus))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top",staticStyle:{display:"flex"}},[r("div",[e._v(" 订单总金额: ")]),r("div",{staticClass:"pric"},[e._v(e._s(e.orderInfo.payAmount))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top",staticStyle:{display:"flex"}},[r("div",[e._v(" 实际金额: ")]),r("div",{staticClass:"pric"},[e._v(e._s(e.orderInfo.payAmount))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"top",staticStyle:{display:"flex"}},[r("div",[e._v(" 促销优惠金额: ")]),r("div",{staticClass:"pric"},[e._v(e._s(e.orderInfo.deleteStatus))])])])],1):e._e(),2==e.active?r("div",{staticStyle:{"margin-top":"30px"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"物流公司"}},[r("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.ruleForm.deliveryCompany,callback:function(t){e.$set(e.ruleForm,"deliveryCompany",t)},expression:"ruleForm.deliveryCompany"}},e._l(e.logistics,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-form-item",{attrs:{label:"物流单号"}},[r("el-input",{model:{value:e.ruleForm.deliverySn,callback:function(t){e.$set(e.ruleForm,"deliverySn",t)},expression:"ruleForm.deliverySn"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("立即创建")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1):e._e(),e.active>=3?r("div",[r("el-divider"),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("div",{staticClass:"title"},[e._v("物流信息:"),r("span",{staticStyle:{color:"#666"}},[e._v(e._s(e.orderInfo.deliveryCompany))])])]),r("el-col",{attrs:{span:1}},[r("div",{staticClass:"dd"})]),r("el-col",{attrs:{span:20}})],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.address,border:""}},[r("el-table-column",{attrs:{prop:"date",label:"时间",width:"180",align:"center"}}),r("el-table-column",{attrs:{prop:"name",label:"状态",width:"360",align:"center"}}),r("el-table-column",{attrs:{prop:"address",label:"备注",align:"center"}})],1)],1):e._e(),r("div",{staticClass:"auto"},[4==e.active||3==e.active?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.closeOrder()}}},[e._v(e._s(3==e.active?"强制确认收货":"关闭订单")+" ")]):e._e()],1)],1)],1)},s=[],o=r("3a10"),n=r("1b62"),i={mixins:[n["a"]],data:function(){return{loading:!1,ruleForm:{orderId:""},address:[],active:1,orderInfo:{},goodsInfo:[],body_style:{padding:"0"}}},created:function(){this.update(),console.log(this.ruleForm)},methods:{update:function(){var e=this;this.loading=!0,this.id=this.$route.query.id,console.log(this.id),o["a"].orderDetail(this.id).then((function(t){console.log(t),e.orderInfo=t.data.orderDetail.orderBase,e.active=e.orderInfo.status+1,e.goodsInfo=t.data.orderDetail.orderItems,e.loading=!1}))},submitForm:function(){var e=this;this.ruleForm.orderId=this.$route.query.id,this.ruleForm.deliveryCompany&&this.ruleForm.deliverySn?(this.$message.success("发货成功"),o["a"].sendDone(this.ruleForm).then((function(t){console.log(t),e.update()}))):this.$message.error("请输入必要信息")},resetForm:function(e){this.$refs[e].resetFields()},closeOrder:function(){var e=this;4==this.active?o["a"].finishOrder(this.id).then((function(t){console.log(t),t.success?(e.$message.success("关闭成功"),e.update()):e.$message.error("关闭失败")})):3==this.active&&(console.log("强制确认收货"),o["a"].receiveProductsForce(this.id).then((function(t){t.success?(e.$message.success("强制确定收获成功"),e.update()):e.$message.error("失败")})))}},beforeCreate:function(){}},l=i,d=(r("0675"),r("2877")),c=Object(d["a"])(l,a,s,!1,null,null,null);t["default"]=c.exports},e791:function(e,t,r){}}]);