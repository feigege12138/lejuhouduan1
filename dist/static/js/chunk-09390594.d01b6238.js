(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09390594"],{"180f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{padding:"30px","background-color":"#f0f2f5"}},[r("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,size:"small","label-width":"100px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"用户账号"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",[r("el-button",[e._v("重置")]),r("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1)],1)],1),r("div",{staticStyle:{height:"30px"}}),r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-button",{staticStyle:{float:"left"},attrs:{size:"small",type:"primary"},on:{click:function(t){return e.addOrEdit(1)}}},[e._v("新增")])],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.numberList,border:!0,stripe:!0}},[r("el-table-column",{attrs:{label:"#",type:"index",width:"50",align:"center"}}),r("el-table-column",{attrs:{label:"用户名",prop:"username",align:"center"}}),r("el-table-column",{attrs:{label:"昵称",prop:"nick_name",align:"center"}}),r("el-table-column",{attrs:{label:"头像",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("div",{staticStyle:{margin:"0 aotu"}},[r("img",{staticStyle:{width:"150px",height:"100px"},attrs:{src:e.row.salt,alt:""}})])]}}])}),r("el-table-column",{attrs:{label:"角色",prop:"roles",align:"center"}}),r("el-table-column",{attrs:{label:"添加时间",prop:"modify_time",align:"center"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.addOrEdit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.del(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),r("numberEdit",{ref:"edit"})],1)},s=[],n=r("61d6"),i=r("1b62"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"昵称",prop:"nickName"}},[r("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"上传头像"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,headers:e.headers,action:e.action}},[e.imageUrl?r("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.fix("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},l=[],c=(r("2b3d"),r("d3b7"),r("3ca3"),r("ddb0"),r("2f4d")),u={mixins:[i["a"]],data:function(){return{dialogVisible:!1,form:{},rules:{nickName:[{required:!0,message:"请输入用户名",trigger:"blur"}],username:[{required:!0,message:"请输入用户昵称",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"}]},imageUrl:"",res:""}},created:function(){},computed:{headers:function(){var e=Object(c["b"])();return this.header=e,{token:e}}},methods:{addOrEdit:function(e){this.res=e,1==this.res?this.form={}:(this.form=e,this.form.nickName=e.nick_name),this.dialogVisible=!0},cancel:function(){this.dialogVisible=!1},fix:function(e){var t=this;1==this.res?this.$refs[e].validate((function(e){if(!e)return t.$message.error("关键信息不得为空"),!1;n["a"].saveUserRoles(t.form).then((function(e){console.log(e),e.success?(t.$parent.getNumber(),t.dialogVisible=!1,t.$message.success("添加成功")):t.$message.error(e.message)}))})):n["a"].updateUserRoles(this.form).then((function(e){console.log(e),e.success?(t.$parent.getNumber(),t.dialogVisible=!1,t.$message.success("编辑成功")):t.$message.error(e.message)}))},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.form.salt=e.data.material.ossUrl}}},m=u,d=r("2877"),f=Object(d["a"])(m,o,l,!1,null,null,null),g=f.exports,b={mixins:[i["a"]],data:function(){return{numberList:[],form:{},editForm:{},loading:!1}},components:{numberEdit:g},created:function(){this.getNumber()},methods:{getNumber:function(){var e=this;this.loading=!0,n["a"].findUsersByPage(this.page,this.num,{}).then((function(t){console.log(t),e.total=t.data.total,e.numberList=t.data.rows,e.loading=!1}))},search:function(){console.log("搜索")},addOrEdit:function(e){this.$refs.edit.addOrEdit(e)},del:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n["a"].removeUser(e).then((function(e){console.log(e),e.success?(t.$message.success("删除成功"),t.getNumber()):t.$message.error("删除失败")}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},p=b,h=Object(d["a"])(p,a,s,!1,null,null,null);t["default"]=h.exports},"1b62":function(e,t,r){"use strict";var a=r("2f4d");t["a"]={data:function(){return{token:"",rules:{name:[{required:!0,message:"请输入物流单号",trigger:"blur"}],region:[{required:!0,message:"请选择物流公司",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]},logistics:[{name:"顺丰"},{name:"圆通"},{name:"韵达"},{name:"中通"},{name:"京东"},{name:"邮政"},{name:"申通"},{name:"德邦"}],loading:!1,page:1,num:10,header:"",total:1,currentPage:1,action:"/lejuAdmin/material/uploadFileOssSave",status:[{name:"待付款",id:0},{name:"代发货",id:1},{name:"已发货",id:2},{name:"已完成",id:3},{name:"已关闭",id:4},{name:"无效订单",id:5}],payType:[{name:"未支付",id:0},{name:"支付宝",id:1},{name:"微信",id:2}],orderType:[{name:"正常订单",id:0},{name:"秒杀订单",id:1}]}},created:function(){},computed:{headers:function(){var e=Object(a["b"])();return this.header=e,{token:e}}},methods:{}}},"61d6":function(e,t,r){"use strict";r("99af");var a=r("9c66");function s(e,t){return Object(a["a"])({url:"/admin/sysAuth/user/findUsersByPage/".concat(e,"/").concat(t),method:"POST"})}function n(e){return Object(a["a"])({url:"/admin/sysAuth/user/removeUser/".concat(e),method:"DELETE"})}function i(e){return Object(a["a"])({url:"/admin/sysAuth/user/saveUserRoles",method:"POST",data:e})}function o(e){return Object(a["a"])({url:"/admin/sysAuth/user/updateUserRoles",method:"PUT",data:e})}function l(e,t){return Object(a["a"])({url:"/admin/sysAuth/role/findRolesByPage/".concat(e,"/").concat(t),method:"GET"})}function c(e){return Object(a["a"])({url:"/admin/sysAuth/role/removeRole/".concat(e),method:"DELETE"})}function u(){return Object(a["a"])({url:"/admin/sysAuth/permission/findAllPermissions",method:"GET"})}t["a"]={findUsersByPage:s,removeUser:n,saveUserRoles:i,updateUserRoles:o,findRolesByPage:l,removeRole:c,findAllPermissions:u}},"9c66":function(e,t,r){"use strict";r("d3b7");var a=r("bc3a"),s=r.n(a),n=r("5c96"),i=r("2f4d"),o=s.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});o.interceptors.request.use((function(e){var t=Object(i["b"])();return t&&(e.headers["token"]=Object(i["b"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),o.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return console.log("err"+e),Object(n["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=o}}]);